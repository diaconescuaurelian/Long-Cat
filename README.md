# Long Cat
#### Video Demo:  [Long Cat](https://www.youtube.com/watch?v=SOCfK9MM4Hw)
#### Description:
##### <p>The scripts that add functionality to the game are located in the folder Long-Cat\Assets\Sources.
The Body.cs script contains the variables that store the old direction and the new direction of the body part, as well as a variable that will store the type of the body part. It also contains a method that sets the variable bodyType, some methods that set and get the variables for new direction and old direction, and some methods that check the current old or new direction of a body part or the type of the body part.It also contains a method that will check if the direction of a body part has changed.</p>
<p>The Move.cs script contains a class that inherits from the Body class. This class contains methods that are used simply to move the cat forward. This is achieved with the used of two methods MoveHead and MoveBody. MoveHead is using a timer variable to move the head of the cat forward 1 unit at every time interval. It also checks if the space key is pressed, in order to change make the head of the cat move faster. The MoveBody method is used to move each of the normal body parts one unit behind the body part in front of it. This method also uses a counter to check if it needs to rotate the body part to turn to a different face of the cube, and will also activate to appropriate prefac child of the body part. If it's the last body part it will activate the tail prefab, otherwise it will activate the standard prefab.</p>
<p>The ChangeDirection.cs script contains a class called ChangeDirection which also inherits from the BodyClass. This class contains the methods that are used to rotate the body parts that form the cat. To rotate the head of the cat we will use the TurnHead method. This method will check for the input from the user and will rotate the head according to the input and will also set the newDir and the oldDir for the head accordingly. This method will rotate and also move the head 1 unit after it rotated it so it also needs to check if enough time has passed since the last time the head has moved to make sure that the head doesn't skip over the collider and will correctly turn to another face of the cube. The TurnBody will check if the old direction and new direction of the body part in front of each body part after the head is different, and if it is, it will increase a counter. Each body part will be rotated if the counter is 1 and the body part's new direction is different from its old direction, or if the counter is > 1.  If the body part that we want to rotate is the last one, it will simply rotate it if the counter is 1 regardless of its old and new direction.</p>
<p>The MoveCat.cs script contains a class called MoveCat which also inherits from the Body class. In the MoveCat are called the methods from the Move and ChangeDirection classes. The Move.cs and ChangeDirection.cs scripts are attached to each body part game object, and the MoveCat.cs is attached to the Cat game object which is a parent for all the body parts. The Move Cat class calls the methods that move and turn each body part accordingly in its Update method. It also contains methods that will be used to set the list elemets corresponding to each body part from the headMoved and headTurned lists that are used to check if the move or turn methods can be called. The elements will be set on true every time the head has moved or turned, and after a body part has turned, the elements from these list at the index corresponding to the current body part will be set to false, so once a body part has turned, the turn method for that body part can be called again only after the head has moved or turned again.</p>
<p>The RotateCamera.cs script contains a class called RotateCamera. This class contains a method CameraTurn and a coroutine Rotate. The coroutine is used to rotate the camera so that the player is always watching the face on which the head of the cat is on. This coroutine must get the axis and the angle on which the camera must rotate, and it gets these by being started by the CameraTurn method according to the direction of the head of the cat.</p>
<p>The Grid.cs script is the one responsible for the spawning of the food. It uses 6 2dinmensional arrays, each for a face of the cube to map each face into a grid. It chooses a random face and then a random position on that face.</p>
<p>The EatFood.cs script contains the logic for detecting when the head of the cat is colliding with a randomly generated piece of food. It's also used to play the corresponding sound for when the cat is eating the food.</p>
<p>The HealthColtroller.cs is responsible for detecting if the head has collided with an obstacle or with another body part and decrement the playerHealth variable. It's also responsible woth loading the end menu if the value of this variable is 0 and the mode is not endless or if a collision has occured and the mode is endless.</p>
<p>The Music.cs is responsible with playing the background music on loop once a level has started.</p>
<p>The PauseMenu.cs is responsible with pausing the game by setting the Time.timeScale to 0. It also enables a menu for the player to resume or restart a level, or to go to the main menu.</p>
<p>The StartMenu.cs contains methods that are called once the player is pressing the buttons that each of these methods are assigned to. It contains methods for opening the settings menu and play menu and methods that can be called from the setting menu such as: modifying the volume for both the ambient music and the sound effects separatelly, for setting the desired resolution, for toggling the Fullscreen option on or off. It also contains a function for quiting the game. </p>
<p>The ChooseLevel.cs contains the methods that are being called by pressing of the buttons from the play menu. It also handles the logic of displaying the locked levels as black locks and of the unlocked levels as simple buttons with the number of the respective level on them. For the endless mode it just loads the respective scene, but for the hard and normal mode it makes sure that the correct scene is loaded. Because the only difference between the hard and the normal mode is the speed at which the cat is moving, I thought that having 10 additional levels for the hard mode will be a waste so by choosing the difficulty it will also set a bool variable accordingly and based on this variable, when a scene is loaded it will set the speed accordingly.</p>
<p>The SaveData.cs is responsible for storing locally the highscore and the levels that the player has managed to unlock.</p>
<p>The GetHighscore.cs is simply used to get the highscore value from the Highscore PlayerPrefs and display it in the GUI.</p>
<p>The EndMenu.cs contains the methods used by the end menu buttons. It contains methods for closing the game, for going to the main menu and to display the credits for the game.</p>
<p>The GroundLines.cs is just a script used to draw some white lines on the cube, making the debugging and developping of the game easier.</p>